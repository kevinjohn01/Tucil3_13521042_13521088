{"ast":null,"code":"var _jsxFileName = \"/Users/putinabillaaidira/Downloads/KULIAH/Semester 4/STIMA/Tucil3_13521042_13521088/src/app/src/GraphProcessor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Network } from 'vis-network';\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getEdgeColor(edges, newRouteEdge) {\n  return newRouteEdge[edges.from] && newRouteEdge[edges.from].includes(edges.to) ? \"#000000\" : \"#FF0000\";\n}\nfunction GraphProcessor(_ref) {\n  _s();\n  let {\n    weight,\n    nodenames,\n    path\n  } = _ref;\n  const [nodes, setNodes] = useState([]);\n  const [edges, setEdges] = useState([]);\n  const [routeEdgeId, setRouteEdgeId] = useState([]);\n  const visJsRef = useRef(null);\n  useEffect(() => {\n    let newRouteEdgeId = [];\n    let routeEdge = [];\n    console.log(\"path\");\n    console.log(path);\n    if (path != null) {\n      routeEdge = Array.from({\n        length: weight.length\n      }, () => []);\n      for (let i = 0; i < path.length - 1; i++) {\n        routeEdge[path[i]][path[i + 1]] = true;\n      }\n    }\n    if (weight && nodenames) {\n      const newNodes = [];\n      const newEdges = [];\n      let id = 0;\n      for (let i = 0; i < weight.length; i++) {\n        newNodes.push({\n          id: `${i}`,\n          label: nodenames[i][0]\n        });\n        for (let j = 0; j < weight[i].length; j++) {\n          if (weight[i][j] !== 0) {\n            newEdges.push({\n              id: `${id}`,\n              from: i,\n              to: j,\n              label: `${weight[i][j]}`\n            });\n            if (routeEdge[i][j] === true) newRouteEdgeId.push(id);\n          }\n          id++;\n        }\n      }\n      setNodes(newNodes);\n      setEdges(newEdges);\n      setRouteEdgeId(newRouteEdgeId);\n    }\n  }, [weight, nodenames, path]);\n  useEffect(() => {\n    const visJsRefCurrent = visJsRef.current;\n    const network = new Network(visJsRefCurrent, {\n      nodes,\n      edges\n    }, {\n      autoResize: true,\n      nodes: {\n        color: \"white\"\n      },\n      edges: {\n        color: {\n          color: \"white\"\n        }\n      }\n    });\n    console.log(network);\n    console.log(\"routeEdgeId\");\n    console.log(routeEdgeId);\n    for (let i = 0; i < routeEdgeId.length; i++) {\n      console.log(\"update\");\n      network.body.data.edges.update({\n        id: `${routeEdgeId[i]}`,\n        color: {\n          color: \"red\"\n        }\n      });\n    }\n    return () => {\n      network.destroy();\n    };\n  }, [nodes, edges, path, routeEdgeId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: visJsRef,\n    className: \"graph\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 11\n  }, this);\n}\n_s(GraphProcessor, \"7nyY7qYGovh36H6mHIaCNGhTC/4=\");\n_c = GraphProcessor;\nexport default GraphProcessor;\nvar _c;\n$RefreshReg$(_c, \"GraphProcessor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Network","jsxDEV","_jsxDEV","getEdgeColor","edges","newRouteEdge","from","includes","to","GraphProcessor","_ref","_s","weight","nodenames","path","nodes","setNodes","setEdges","routeEdgeId","setRouteEdgeId","visJsRef","newRouteEdgeId","routeEdge","console","log","Array","length","i","newNodes","newEdges","id","push","label","j","visJsRefCurrent","current","network","autoResize","color","body","data","update","destroy","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/putinabillaaidira/Downloads/KULIAH/Semester 4/STIMA/Tucil3_13521042_13521088/src/app/src/GraphProcessor.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Network } from 'vis-network';\nimport \"./App.css\";\n\nfunction getEdgeColor(edges, newRouteEdge) {\n  return newRouteEdge[edges.from] && newRouteEdge[edges.from].includes(edges.to) ? \"#000000\" : \"#FF0000\";\n}\n\nfunction GraphProcessor({ weight, nodenames, path }) {\n  const [nodes, setNodes] = useState([]);\n  const [edges, setEdges] = useState([]);\n  const [routeEdgeId, setRouteEdgeId] = useState([]);\n  const visJsRef = useRef(null);\n  useEffect(() => {\n    let newRouteEdgeId = [];\n    let routeEdge = [];\n    console.log(\"path\");\n    console.log(path);\n    if (path != null) {\n      routeEdge = Array.from({ length: weight.length }, () => []);\n      for (let i = 0; i < path.length - 1; i++) {\n        routeEdge[path[i]][path[i + 1]] = true;\n      }\n    }\n    if (weight && nodenames) {\n      const newNodes = [];\n      const newEdges = [];\n      let id = 0;\n      for (let i = 0; i < weight.length; i++) {\n        newNodes.push({ id: `${i}`, label: nodenames[i][0]});\n        for (let j = 0; j < weight[i].length; j++) {\n          if (weight[i][j] !== 0){\n              newEdges.push({ id: `${id}`, from: i, to: j, label: `${weight[i][j]}`});\n              if(routeEdge[i][j] === true) newRouteEdgeId.push(id);\n          }\n          id++;\n        }\n      }\n      setNodes(newNodes);\n      setEdges(newEdges);\n      setRouteEdgeId(newRouteEdgeId);\n    }\n  }, [weight, nodenames, path]);\n\n  useEffect(() => {\n    const visJsRefCurrent = visJsRef.current;\n    const network = new Network(\n      visJsRefCurrent,\n      { nodes, edges },\n      {\n        autoResize: true,\n        nodes: {\n          color: \"white\"\n        },\n        edges: {\n          color: {\n            color: \"white\",\n          }\n        }\n      }\n    );\n    console.log(network);\n    console.log(\"routeEdgeId\");\n    console.log(routeEdgeId);\n    for(let i = 0; i < routeEdgeId.length; i++){\n      console.log(\"update\");\n        network.body.data.edges.update({id: `${routeEdgeId[i]}`, color: {color: \"red\"}});\n    }\n    return () => {\n      network.destroy();\n    };\n  }, [nodes, edges, path, routeEdgeId]);\n\n  return (<div ref={visJsRef} className=\"graph\" />);\n}\n\nexport default GraphProcessor;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}